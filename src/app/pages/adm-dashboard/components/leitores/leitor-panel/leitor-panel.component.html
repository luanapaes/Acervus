<mat-accordion class="custom-panel">
    <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
            <mat-panel-title>
                {{fullname}}
            </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="info">
            <p>
                <span class="title">
                    <i class="far fa-envelope" title="Icon de e-mail"></i>
                </span> {{email}}
            </p>
            <p>
                <span class="title">
                    <i class="fas fa-phone" title="Icon de telefone"></i>
                </span> {{phone_number | phone }}
            </p>
        </div>

        <hr>

        <div class="book-section">
            @if (borrowed_book.length > 0) {
                <h3>{{ borrowed_book[livroAtual].book_name | title }}</h3>
                <p>{{ borrowed_book[livroAtual].book_description }}</p>
                <p>Data do Empréstimo: {{ borrowed_book[livroAtual].loan_date | date: 'dd/MM/yyyy'}}</p>
                <p>Data de Devolução: {{ borrowed_book[livroAtual].data_devolucao | date: 'dd/MM/yyyy'}}</p>

                @if (borrowed_book.length > 1) {
                    <div class="btn-paginator">
                        <button (click)="voltar()" [disabled]="livroAtual === 0">◀</button>
                        <button (click)="avancar()" [disabled]="livroAtual === borrowed_book.length - 1">▶</button>
                    </div>
                }
            }
        </div>
    </mat-expansion-panel>
</mat-accordion>